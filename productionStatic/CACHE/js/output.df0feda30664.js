"use strict";document.addEventListener('DOMContentLoaded',function(event){console.log(`${event.type} Event Fired`);const emailValueTag=document.getElementById('email-textfield');const emailErrorTag=document.getElementById('email-error-area');const passwordValueTag=document.getElementById('password-textfield');const passwordErrorTag=document.getElementById('password-error-area');const confirmValueTag=document.getElementById('confirm-textfield');const confirmErrorTag=document.getElementById('confirm-error-area');if(emailValueTag!==null)emailValueTag.value="";if(passwordValueTag!==null)passwordValueTag.value="";if(confirmValueTag!==null)confirmValueTag.value="";if(emailErrorTag!==null)emailErrorTag.value="";if(passwordErrorTag!==null)passwordErrorTag.value="";if(confirmErrorTag!==null)confirmErrorTag.value="";document.addEventListener('click',(e)=>{const popupErrorsContainerTag=document.getElementById('popup-errors-container');if(!popupErrorsContainerTag.contains(e.target)){popupErrorsContainerTag.style.display='none';}});if(emailValueTag!==null)emailValueTag.addEventListener('input',checkEmail);},{once:true});function closePopupErrors(){document.getElementById('popup-errors-container').style.display='none';}
function checkEmail(){const emailValueTag=document.getElementById('email-textfield');const emailErrorTag=document.getElementById('email-error-area');if(emailValueTag.value.trim()===''){emailErrorTag.textContent='';return false;}
if(!validateEmail(emailValueTag.value)){emailErrorTag.textContent='Invalid email address';return false;}
emailErrorTag.textContent='';return true;}
function validateEmail(email){const re=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i;return re.test(email);}
function hideShowPasswordLogin(){const passwordValueTag=document.getElementById('password-textfield');const lambTag=document.getElementById('lamb');if(passwordValueTag.type==='password'){passwordValueTag.type='text';lambTag.style.opacity=0.5;}else{passwordValueTag.type='password';lambTag.style.opacity=1;}}
function hideShowPasswordRegister(){const passwordValueTag=document.getElementById('password-textfield');const confirmValueTag=document.getElementById('confirm-textfield');const lambTag=document.getElementById('lamb');if(passwordValueTag.type==='password'){passwordValueTag.type='text';if(confirmValueTag!==null)confirmValueTag.type='text';lambTag.style.opacity=0.5;}else{passwordValueTag.type='password';if(confirmValueTag!==null)confirmValueTag.type='password';lambTag.style.opacity=1;}}
function openPopupCredentials(){const popup=document.getElementById('popup-credentials-container');popup.style.display='block';setTimeout(function(){popup.style.opacity=1;},10);}
function closePopupCredentials(){const popup=document.getElementById('popup-credentials-container');popup.style.opacity=0;setTimeout(function(){popup.style.display='none';},1010);};"use strict";document.addEventListener('DOMContentLoaded',(event)=>{console.log(`${event.type} Event Fired`);document.getElementById('socials-container').addEventListener("click",(event)=>{const element=event.target.closest('.social-element');console.log(element);if(element===null){console.log('Event Delegation: a click event was fired by accident and is successfully ignored');return;}
console.log(`Login via ${element.id}`);});document.getElementById('email-textfield').addEventListener('focus',function(){const allObjects=Object.keys(localStorage);const loginCredentialsKeys=allObjects.filter(key=>key.includes('loginCredentials_'));const loginCredentialsObjects=loginCredentialsKeys.map(key=>JSON.parse(localStorage.getItem(key)));if(loginCredentialsObjects.length>0){let credentialsList=document.createElement('datalist');credentialsList.id='datalist';loginCredentialsObjects.forEach(credentials=>{const option=document.createElement('option');option.value=credentials.email;credentialsList.appendChild(option);});console.log(credentialsList);if(!document.getElementById('datalist')){document.getElementById('email-textfield').setAttribute('list',credentialsList.id);document.body.appendChild(credentialsList);}}});document.getElementById('email-textfield').addEventListener('input',function(){const email=document.getElementById('email-textfield').value;const credentials=JSON.parse(localStorage.getItem(`loginCredentials_${email}`));if(credentials){document.getElementById('password-textfield').value=credentials.password;}else{document.getElementById('password-textfield').value='';}});document.getElementById('login-form').addEventListener('submit',function(event){event.preventDefault();const popupErrorsContainerTag=document.getElementById('popup-errors-container');const lazyLoadTag=document.getElementById('lazy-load');const errorsText=document.getElementById('errors-text');if(validateLoginForm()===false){errorsText.innerHTML='Invalid Form';popupErrorsContainerTag.style.display='block';}
else{lazyLoadTag.style.display='block';loginAsyncPostRequest();console.log("fetch is an async function, i.e. it returns a Promise instead of blocking the main thread. So, this message is printed before JSON POST Reply.");}});function validateLoginForm(){const emailValueTag=document.getElementById('email-textfield');const passwordValueTag=document.getElementById('password-textfield');if(emailValueTag.value==='')return false;if(passwordValueTag.value==='')return false;if(checkEmail()===false)return false;return true;}
function loginAsyncPostRequest(){const emailValueTag=document.getElementById('email-textfield');const passwordValueTag=document.getElementById('password-textfield');const lazyLoadTag=document.getElementById('lazy-load');const popupErrorsContainerTag=document.getElementById('popup-errors-container');const errorsText=document.getElementById('errors-text');const userCredentials={email:emailValueTag.value,password:passwordValueTag.value};const url='/login/';let fetchData={method:'POST',body:JSON.stringify(userCredentials),headers:new Headers({'Content-Type':'application/json; charset=UTF-8','X-CSRFToken':document.querySelector('[name=csrfmiddlewaretoken]').value})}
fetch(url,fetchData).then(response=>response.json()).then(responseData=>{if(responseData.status==='success'){lazyLoadTag.style.display='none';const allObjects=Object.keys(localStorage);const loginCredentialsKeys=allObjects.filter(key=>key.includes('loginCredentials_'));const exists=loginCredentialsKeys.some(key=>{const storedCredentials=JSON.parse(localStorage.getItem(key));return storedCredentials.email===userCredentials.email&&storedCredentials.password===userCredentials.password;});if(!exists){openPopupCredentials();document.getElementById('popup-buttons-container').addEventListener('click',function(event){const element=event.target;console.log(element);if((element.id!=='yes-button')&&(element.id!=='no-button')){console.log('Event Delegation: a click event was fired by accident and is successfully ignored');return;}
if(element.id==='yes-button'){localStorage.setItem(`loginCredentials_${userCredentials.email}`,JSON.stringify(userCredentials));}
closePopupCredentials();lazyLoadTag.style.display='none';window.location.replace('/chat/');});}
else{lazyLoadTag.style.display='none';window.location.replace('/chat/');}}
else{lazyLoadTag.style.display='none';errorsText.innerHTML=responseData.message;popupErrorsContainerTag.style.display='block';}}).catch(error=>{lazyLoadTag.style.display='none';console.error('Error:',error);});}},{once:true});;"use strict";document.addEventListener('DOMContentLoaded',function(event){console.log(`${event.type} Event Fired`);const urlSocialsZip=document.getElementById('socials-container').dataset.zipUrl;fetch(urlSocialsZip).then(response=>response.arrayBuffer()).then(data=>JSZip.loadAsync(data)).then(zip=>{const buttons={'google.png':'google-login-button','linkedin.png':'linkedin-login-button','twitter.png':'twitter-login-button','printerest.png':'printerest-login-button'};Object.keys(buttons).forEach(fileName=>{zip.file(fileName).async("base64").then(base64=>{const img=document.querySelector(`#${buttons[fileName]} img`);img.src="data:image/png;base64,"+base64;});});console.log(`${urlSocialsZip} is successfully unzipped`);console.log('All <img> tags have successfully loaded .png files');cuteVisibleSocials();});function cuteVisibleSocials(){const socialsContainerTag=document.getElementById("socials-container");socialsContainerTag.style.visibility="visible";setTimeout(function(){socialsContainerTag.style.opacity=1;},10);}},{once:true});;